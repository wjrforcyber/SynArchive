# SynArchive

This repo will archive some of the old synthesis tools.
The "build-from-source" is verified by me myself and will have a docker image provided. For those who are also requiring methods of manually build/modify the source, just pull the archived image.

## Why this
Although ABC contains most of the SOTA method. Classic tools might still be useful as a reference for implementation of algorithms.
<br>Some of the really old tools such as SIS, lack of official maintainance since 2005. Take unofficial SIS 1.3 as an example, the build requires gcc 3.2.2 which is really old, modification is needed here to bring it back to life.

## Note
All the content in this README is **based on** every README in submodules I archive, it's important you read the original README and then this one.
<br>The content is organized as follows:
- The original docker image I use
- A list of packages I have installed
- Some tricky points that need to be manually modified
- The result image I archived which for simply pull and build

## CUDD
> [!NOTE]
> No image is given since it could be easily build without further modification.
[CUDD](https://github.com/wjrforcyber/CUDD) is a package written in C for the manipulation of decision diagrams.

## OpenRoad
[OpenRoad](https://github.com/The-OpenROAD-Project/OpenROAD) is also archived here for others to use, I didn't modify anything particular, the project is built and prepared for course MICS5520 L01(Physical Design Automation of Digital Systems) from [Prof. Yuzhe Ma](https://www.yuzhe-ma.com).

### TRICKY POINTS
When building OpenRoad itself or installing dependencies(there are building process inside), even if you don't set limit to the container memory/number of cores. There's a high possibility you'll encounter the crash such as `c++: fatal error: Killed signal terminated program cc1plus`. Make sure pass a specific thread number to the build script(eg. 4) will solve this.

### Original Docker image information
[ubuntu:latest](https://hub.docker.com/layers/library/ubuntu/latest/images/sha256-3f83fb03282ef4e453bdf0060e0d83833bb3cf6e6f36f54d9b8517d311d78e03)

### Archived image
I have committed the container and pushed image to the docker hub. Use 
```bash
docker pull jingrenwang/openroad:v1.0
```
to fetch the image. The OpenRoad is already ready to use, but if you would like to build by yourself in debug mode etc., the repository is located at `/home/ubuntu/workspace/OpenROAD`.

## Espresso [WIP]
Check the [README in the according archived repo](https://github.com/wjrforcyber/espresso).

## MVSIS

### Original Docker image information
- [origianl docker image of ubuntu 20.04](https://hub.docker.com/layers/library/ubuntu/20.04/images/sha256-e5a6aeef391a8a9bdaee3de6b28f393837c479d8217324a2340b64e45a81e0ef)

### TRICKY POINTS
#### List of packages
```
autoconf Version: 2.69-11.1
gcc-9-multilib Version: 9.4.0-1ubuntu1~20.04.2
libreadline-dev Version: 8.0-4
```
If you are interested in versions of other packages, check the docker image I created below.
<br>First of all, **DO FOLLOWING** what mentioned in MVSIS [here](https://github.com/wjrforcyber/mvsis). If you are using the same image as I use(ubuntu 20.04), you will probably fail on `gcc-multilib`.
<br> Based on the `gcc` version and hint given, install related packages, for me,
```
gcc --version
gcc (Ubuntu 9.4.0-1ubuntu1~20.04.2) 9.4.0
Copyright (C) 2019 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
```
Do the following **in order**:
```
apt-get install -y binutils:i386 cpp-9:i386 gcc-9-multilib
```

#### Configure
Since the original repo suggests compile on 32 bit first and compare with 64 bit version, you should make sure each one works as expected.
Now if you `configure`, you may see crash on unrecognized architecture like this:
```
checking build system type... Invalid configuration `aarch64-pc-linux-gnu': machine `aarch64-pc' not recognized
configure: error: /bin/bash helpers/config.sub aarch64-pc-linux-gnu failed
```
Modify line 152 in https://github.com/wjrforcyber/mvsis/blob/7e225952c1d32f63905bfd52a0b92dc1e3ab39e2/helpers/config.sub#L152

By reference [this issue](https://github.com/li3tuo4/rc-fpga-zcu/issues/6), add `aarch64-pc` to it, it will look like:
```
...
tahoe | i860 | m68k | m68000 | m88k | ns32k | aarch64-pc | arm \
...
```
Then `configure` will be good to go.

### Archived image
This image is generated by the container of the ubuntu official image after I finished the experiment.
Link [here](https://hub.docker.com/r/jingrenwang/mvsis/tags). Type
```
docker pull jingrenwang/mvsis:latest
```
to fetch.







